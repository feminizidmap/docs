<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>Mapper development - Tech.Feminizidmap.org</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=https://tech.feminizidmap.org/favicon.png><link rel=stylesheet href=/css/style.min.36d902c41c47372f9159a717037f0fbdfaf24d6fb765c700bad974b0a33da14a.css></head><body class="page page-default-single"><div id=main-menu-mobile class=main-menu-mobile><ul><li class=menu-item-home><a href=/><span>Home</span></a></li><li class=menu-item-about><a href=/about/><span>About</span></a></li><li class=menu-item-docs><a href=/docs/><span>Docs</span></a></li><li class=menu-item-blog><a href=/blog/><span>Blog</span></a></li></ul></div><div class=wrapper><div class=header><div class=container><div class=logo><a href=https://tech.feminizidmap.org><img alt=Logo src=/assets/tech-logo.png></a></div><div class=logo-mobile><a href=https://tech.feminizidmap.org><img alt=Logo src=/assets/tech-logo.png></a></div><div id=main-menu class=main-menu><ul><li class=menu-item-home><a href=/><span>Home</span></a></li><li class=menu-item-about><a href=/about/><span>About</span></a></li><li class=menu-item-docs><a href=/docs/><span>Docs</span></a></li><li class=menu-item-blog><a href=/blog/><span>Blog</span></a></li></ul></div><button id=toggle-main-menu-mobile class="hamburger hamburger--slider" type=button>
<span class=hamburger-box><span class=hamburger-inner></span></span></button></div></div><div class="container pt-2 pt-md-6 pb-3 pb-md-6"><div class=row><div class="col-12 col-md-3 mb-3"><div class=sidebar><div class=docs-menu><h4>Docs</h4><ul><li><a href=https://tech.feminizidmap.org/docs/mapper/>Mapper</a></li><li class=active><a href=https://tech.feminizidmap.org/docs/mapper/development/>Mapper development</a></li><li><a href=https://tech.feminizidmap.org/docs/mapper/deployment/>Mapper deployment</a></li><li><a href=https://tech.feminizidmap.org/docs/mapper/backend/>Mapper backend</a></li><li><a href=https://tech.feminizidmap.org/docs/mapper/frontend/>Mapper frontend</a></li><li><a href=https://tech.feminizidmap.org/docs/briefkasten/>Briefkasten</a></li></ul></div></div></div><div class="col-12 col-md-9"><h1 class=title>Mapper development</h1><div class="content anchor-link-enabled"><h1 id=development-setup>Development setup</h1><h2 id=frontend>Frontend</h2><p>The frontend is a standard <a href=https://v3.vuejs.org/>Vue.JS</a> application, you need <a href=https://nodejs.org/en/download/>NodeJS</a> installed to run the development environment and build the final app.</p><h3 id=dependencies>Dependencies</h3><p>I&rsquo;ll be using <a href=https://classic.yarnpkg.com/en/docs/install/>yarn</a> as package manager and task runner in this guide, but npm is also fine.</p><p>Inside <code>frontend</code> run <code>$ yarn install</code> to install dependencies.</p><h3 id=environment-variables>Environment variables</h3><p>Edit the <code>.env.development</code> file, most importantly update the <code>VUE_APP_API_URL</code> if you make changes. If you&rsquo;re running the backend service in the default settings, then there is nothing to be done here.</p><h3 id=development-server>Development server</h3><p>Run <code>$ yarn serve</code> to start the development server on <code>localhost:8080</code> with hot-reload.</p><h3 id=misc>Misc</h3><p>Other commands are:</p><ul><li><code>yarn build</code> to build the final app in the <code>dist</code> folder</li><li><code>yarn lint</code> to run the linter</li><li><code>yarn test:unit</code> to run unit tests</li></ul><h2 id=backend>Backend</h2><p>The backend is a standard Rails application talking to a Postgres database and an attached Redis store.</p><h3 id=dependencies-1>Dependencies</h3><p>You need <a href=https://www.postgresql.org/download/>Postgres</a> and <a href=https://redis.io/download>Redis</a> and the right <a href=https://github.com/feminizidmap/feminizid-mapper/blob/main/backend/.ruby-version>Ruby version</a> installed. Start both in the background and have your Postgres user credentials ready. If you need more help getting Postgres and Redis up and running, <a href=https://gist.github.com/lislis/7238a1162767de105e440448bbc001b6>consider reading this guide</a>.</p><p>For easy Ruby version installation and management I recommend <a href=https://github.com/rbenv/rbenv>rbenv</a> but rvm or chruby are also fine.</p><p>Inside <code>backend</code> run <code>$ bundle install</code> to install dependencies.</p><h3 id=environment-variables-1>Environment variables</h3><p>Run <code>$ cp env.sample .env</code> to create a working copy for your local settings.</p><p>Edit the <code>DATABASE_URL</code> and <code>DATABASE_TEST_URL</code> with the credentials for your local Postgres user and database and <code>REDIS_URL</code> with, you guessed it, the Redis url.</p><p>To set a <code>SESSION_SECRET</code> for JWT, run <code>$ bin/rake secret</code> and copy the output in the <code>.env</code> file.</p><p>In default configuration the rest can stay the same.</p><h3 id=development-server-1>Development server</h3><p>Finally you can start the server with <code>$ rails s</code>, with should start on <code>localhost:3000</code>.</p></div></div></div></div></div></div><div class=sub-footer><div class=container><div class=row><div class="col-12 col-md-6"><ul><li><a href=https://tech.feminizidmap.orgblog/index.xml title="RSS Feed"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentcolor" class="bi bi-rss-fill" viewBox="0 0 16 16"><path d="M2 0A2 2 0 000 2v12a2 2 0 002 2h12a2 2 0 002-2V2a2 2 0 00-2-2H2zm1.5 2.5c5.523.0 10 4.477 10 10a1 1 0 11-2 0 8 8 0 00-8-8 1 1 0 010-2zm0 4a6 6 0 016 6 1 1 0 11-2 0 4 4 0 00-4-4 1 1 0 010-2zm.5 7a1.5 1.5.0 110-3 1.5 1.5.0 010 3z"/></svg><span>subscribe</span></a></li><li><a href=https://github.com/feminizidmap rel="noopener noreferrer nofollow">github.com/feminizidmap</a></li><li><a href=https://feminizidmap.org rel="noopener noreferrer nofollow">feminizidmap.org</a></li></ul></div><div class="col-12 col-md-6"><a href=https://www.bmbf.de/ rel="noopener noreferrer nofollow" target=_blank><img src=/assets/bmbf-logo.svg alt=BMBF></a>
<a href=https://prototypefund.de/ target=_blank rel="noopener noreferrer nofollow"><img src=/assets/logo-prototype.svg alt="Prototype Fund"></a></div></div></div></div><script type=text/javascript src=/js/scripts.min.1237ff71925bb8625c97a9af8db4c54525258bedfd7c47493daaff723bea755e.js></script></body></html>